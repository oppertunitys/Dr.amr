;/*FB_PKG_DELIM*/

__d("CometFeedStoryPhotoAttachmentUtil_ShopPDPURI.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryPhotoAttachmentUtil_ShopPDPURI",selections:[{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useProductItem_node",selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:b,storageKey:null}],type:"ProductItem",abstractKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:null,concreteType:"ShopProduct",kind:"LinkedField",name:"shop_product",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useShopProduct_node",selections:b,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("ProductNode",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getId=function(){var a;return(a=(a=this.$1)==null?void 0:a.id)!=null?a:(a=this.$2)==null?void 0:a.id};b.getProductId=function(){var a;return(a=(a=this.$1)==null?void 0:a.product_id)!=null?a:(a=this.$2)==null?void 0:a.product_id};b.getMerchantId=function(){var a;return(a=(a=this.$1)==null?void 0:a.merchant_id)!=null?a:(a=this.$2)==null?void 0:a.merchant_id};return a}();f["default"]=a}),66);
__d("useProductItem_node.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"useProductItem_node"};e.exports=a}),null);
__d("useProductItem",["RelayHooks","react-compiler-runtime","useProductItem_node.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useProductItem_node.graphql");function a(a){var b=d("react-compiler-runtime").c(5);if(a===void 0)return null;if(b[0]!==a){var c;c=(c=d("RelayHooks").readInlineData(i,a))!=null?c:{};b[0]=a;b[1]=c}else c=b[1];a=c;c=a==null?void 0:a.id;if(c==null)return null;a=a==null?void 0:(a=a.page)==null?void 0:a.id;var e;b[2]!==a||b[3]!==c?(e={id:c,merchant_id:a,product_id:c},b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}g.useProductItem=a}),98);
__d("useShopProduct_node.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"useShopProduct_node"};e.exports=a}),null);
__d("useShopProduct",["RelayHooks","react-compiler-runtime","useShopProduct_node.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useShopProduct_node.graphql");function a(a){var b=d("react-compiler-runtime").c(8);if(a===void 0)return null;var c,e;if(b[0]!==a){e=Symbol["for"]("react.early_return_sentinel");bb0:{var f;f=(f=d("RelayHooks").readInlineData(i,a))!=null?f:{};f=f==null?void 0:f.id;if(f==null){e=null;break bb0}c=f.split(":")}b[0]=a;b[1]=f;b[2]=c;b[3]=e}else f=b[1],c=b[2],e=b[3];if(e!==Symbol["for"]("react.early_return_sentinel"))return e;a=c;if((a==null?void 0:a.length)!==3||a[0]!=="SP")return null;e=a[1];a=a[2];var g;b[4]!==e||b[5]!==a||b[6]!==f?(g={id:f,merchant_id:e,product_id:a},b[4]=e,b[5]=a,b[6]=f,b[7]=g):g=b[7];return g}g.useShopProduct=a}),98);
__d("CometFeedStoryPhotoAttachmentUtil",["Actor","CometFeedStoryPhotoAttachmentUtil_ShopPDPURI.graphql","CometRelay","ProductNode","XCometCommerceProductItemControllerRouteBuilder","react-compiler-runtime","useProductItem","useShopProduct"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g,i=d("react-compiler-runtime").c(11);a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPhotoAttachmentUtil_ShopPDPURI.graphql"),a!=null?a:null);var j=d("Actor").useActor();j=j[0];g=(a==null?void 0:(g=a.photo_product_tags)==null?void 0:g.length)||0;var k=null,l=null;a=a==null?void 0:(a=a.photo_product_tags)==null?void 0:a[0];var m=d("useShopProduct").useShopProduct(a==null?void 0:a.shop_product);a=d("useProductItem").useProductItem(a==null?void 0:a.listing);if(i[0]!==j||i[1]!==g||i[2]!==f||i[3]!==e||i[4]!==m||i[5]!==a){var n=new(c("ProductNode"))(m,a);if(g===1){l=n.getProductId();n=n.getMerchantId();l!=null&&j!==n&&(k=c("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:l,ref:e,referral_code:f}))}i[0]=j;i[1]=g;i[2]=f;i[3]=e;i[4]=m;i[5]=a;i[6]=l;i[7]=k}else l=i[6],k=i[7];i[8]!==l||i[9]!==k?(n={productID:l,shopPDPURI:k},i[8]=l,i[9]=k,i[10]=n):n=i[10];return n}g.useGetDirectToPDPInfo=a}),98);
__d("CometFeedStoryPhotoAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedStoryPhotoAttachment_attachment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometFeedPhotoBackgroundColorRelay_photo"},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useCometPhotoViewerPlaceholderPassthroughProps_photo"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryPhotoAttachmentUtil_ShopPDPURI"},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},{alias:"photo_image",args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],type:"StoryAttachment",abstractKey:null};e.exports=a}),null);
__d("MarketplaceAttachmentLoggingUtils",["BaseMiddot.react","MarketplaceClickFalcoEvent","MarketplaceImpressionFalcoEvent","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){c("vulture")("JOvp9sheOwbpIRSD8C2bXwvrQbM=");var b="unknown";switch(a){case"homepage_stream":b="newsfeed";break;case"timeline":b="timeline";break}return b}function b(a){c("vulture")("seZrs48SsHljkc6Vj2HfgYN9Xjg="),c("MarketplaceClickFalcoEvent").log(function(){return a})}function d(a){c("vulture")("vERE4ndH39ryCIqgijGDtwXciF0="),c("MarketplaceImpressionFalcoEvent").log(function(){return a})}function e(a,b){c("vulture")("kv7quv4p-7fu7tdrjH0-lxh_x7w=");return i.jsxs(i.Fragment,{children:[b,i.jsx(c("BaseMiddot.react"),{}),a]})}e.displayName=e.name+" [from "+f.id+"]";g.getSurfaceFromAttachmentRenderLocation=a;g.logMarketplaceAttachmentClick=b;g.logMarketplaceAttachmentImpression=d;g.getJobsAttachmentMetadata=e}),98);
__d("CometFeedStoryPhotoAttachment.react",["Actor","CometErrorBoundary.react","CometFeedStoryFeedLocationContext","CometFeedStoryPhotoAttachmentImplementation","CometFeedStoryPhotoAttachmentUtil","CometFeedStoryPhotoAttachment_attachment.graphql","CometFeedUnitQueryVariablesContext","CometImage.react","CometMarketplaceComponentLoggingContext","CometPlaceholder.react","CometPressable.react","CometProductTagFunnelIDContext","CometProductTagLoggingUtils","CometRelay","CometTrackingCodeContext","CometTrackingNodeProvider.react","CometTrackingNodesContext","CometWarningScreenContext","CommerceAttachmentLoggingUtils","CommerceTabFeedClickFalcoEvent","MarketplaceAttachmentLoggingUtils","emptyFunction","getAggregatedStoryTrackingNodeIndex","getIsBizWebFeedLocation","gkx","react","react-compiler-runtime","requireDeferred","unrecoverableViolation","useCometFeedPhotoBackgroundColorRelay","useCometPhotoViewerPlaceholderPassthroughProps","useMinifiedProductAttribution","useOpenPhotoAttachmentKeyCommand"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l=c("requireDeferred")("ActnSellerTagProductPillClickFalcoEvent").__setRef("CometFeedStoryPhotoAttachment.react"),m=c("requireDeferred")("CommercePdpProductTagClickFalcoEvent").__setRef("CometFeedStoryPhotoAttachment.react"),n=c("gkx")("20935"),o={featuredCard:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0},imageButton:{display:"x1lliihq",":active_transform":"x1pdlv7q",$$css:!0},mediaPressed:{backgroundColor:"xobhos8",$$css:!0}};function a(a){var e,f,g,i,q,r=d("react-compiler-runtime").c(58),s=a.adID,t=a.attachment,u=a.featuredCard,v=a.hasProductMatch,w=a.hasProductTags,x=a.heightOverride,y=a.isShopsSYFS,z=a.isUntagged,A=a.marketplaceAttachmentMetadata,B=a.preventInteraction,C=a.productTagLayer,D=a.productTagOverlay,E=a.testid;a=a.urlOverride;t=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPhotoAttachment_attachment.graphql"),t);var F=k(c("CometMarketplaceComponentLoggingContext")).metadata,G=k(c("CometTrackingCodeContext")),H=k(c("CometTrackingNodesContext")),I=c("useMinifiedProductAttribution")(),J=k(c("CometFeedUnitQueryVariablesContext")),K=d("CometWarningScreenContext").useIsOverlayShown(),L=d("CometWarningScreenContext").useHasOverlay(),M;r[0]!==H?(M=c("getAggregatedStoryTrackingNodeIndex")(H),r[0]=H,r[1]=M):M=r[1];H=M;M=((M=t.media)==null?void 0:M.__typename)==="Photo"?t.media:null;e=(e=t.media)==null?void 0:(e=e.photo_image)==null?void 0:e.uri;var N;r[2]!==M||r[3]!==e?(N={photo:M,placeholderImageSrc:e},r[2]=M,r[3]=e,r[4]=N):N=r[4];M=c("useCometPhotoViewerPlaceholderPassthroughProps")(N);e=(e=t.media)==null?void 0:(N=e.photo_image)==null?void 0:N.uri;if(e==null)throw c("unrecoverableViolation")("mediaUri cannot be nullish in CometFeedStoryPhotoAttachment","comet_feed");N=((N=t.media)==null?void 0:N.accessibility_caption)||"";a=a!=null?a:(a=(a=t.media)==null?void 0:a.url)!=null?a:"";x=x!=null?x:(x=t.media)==null?void 0:(x=x.photo_image)==null?void 0:x.height;f=(f=t.media)==null?void 0:(f=f.photo_image)==null?void 0:f.width;g=(g=t.media)==null?void 0:(g=g.focus)==null?void 0:g.x;i=(i=t.media)==null?void 0:(i=i.focus)==null?void 0:i.y;q=(q=t.media)==null?void 0:(q=q.feedback)==null?void 0:q.can_viewer_comment;if(f==null||x==null)throw c("unrecoverableViolation")("width and/or height cannot be nullish in CometFeedStoryPhotoAttachment","comet_feed");var O=d("Actor").useActor(),P=O[0],Q=(O=t.media)==null?void 0:O.id,R=k(c("CometProductTagFunnelIDContext"));O=d("CometFeedStoryPhotoAttachmentUtil").useGetDirectToPDPInfo(((O=t.media)==null?void 0:O.__typename)==="Photo"?t.media:null);var S=O.productID;r[5]!==P||r[6]!==s||r[7]!==R||r[8]!==v||r[9]!==w||r[10]!==z||r[11]!==Q||r[12]!==S?(O=function(){if((w===!0||v===!0||z)&&Q!=null){var a=v===!0?"unconnected_commerce_product_match_on_newsfeed_"+Q:"product_tag_on_newsfeed_"+Q;d("CometProductTagLoggingUtils").logProductTagPostClick(s,"CometFeedStoryPhotoAttachment",R,"newsfeed",Q,a);S!=null&&m.onReady(function(b){b.log(function(){return{ad_id:s,component:"CometFeedStoryPhotoAttachment",funnel_id:R,marketplace_surface:"newsfeed",post_id:Q,product_id:S,referral_code:a}})});z===!0&&l.onReady(function(a){a.log(function(){return{container_post_id:Q,creator_id:P,platform:"comet",referral_source:"feed_story",shoppable_content_type:"page_post"}})})}},r[5]=P,r[6]=s,r[7]=R,r[8]=v,r[9]=w,r[10]=z,r[11]=Q,r[12]=S,r[13]=O):O=r[13];var T=O;r[14]!==y?(O=function(){if(y!==!0)return;c("CommerceTabFeedClickFalcoEvent").log(p)},r[14]=y,r[15]=O):O=r[15];var U=O;r[16]!==F||r[17]!==I?(O=function(){(F==null?void 0:F.analyticsModule)==="post"&&d("CommerceAttachmentLoggingUtils").logBSGAttachmentProductClick(babelHelpers["extends"]({},F,{navigationChain:I}))},r[16]=F,r[17]=I,r[18]=O):O=r[18];var V=O;r[19]!==A?(O=function(){if(A==null)return;d("MarketplaceAttachmentLoggingUtils").logMarketplaceAttachmentClick(A)},r[19]=A,r[20]=O):O=r[20];var W=O;r[21]!==V||r[22]!==W||r[23]!==T||r[24]!==U?(O=function(){T(),U(),V(),W()},r[21]=V,r[22]=W,r[23]=T,r[24]=U,r[25]=O):O=r[25];O=O;u=u;t=c("useCometFeedPhotoBackgroundColorRelay")(t.media);var X;r[26]!==t||r[27]!==N||r[28]!==g||r[29]!==i||r[30]!==x||r[31]!==u||r[32]!==e||r[33]!==C||r[34]!==D||r[35]!==f?(X=u===!0?j.jsx(c("CometImage.react"),{src:e,xstyle:o.featuredCard}):j.jsxs(j.Fragment,{children:[j.jsx(c("CometFeedStoryPhotoAttachmentImplementation"),{accentColor:t,accessibilityCaption:N,focusX:g,focusY:i,height:x,uri:e,width:f}),C&&j.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:C})}),j.jsx("div",{className:"x1nb4dca x1q0q8m5 xso031l x1exxf4d x13fuv20 x178xt8z x1ey2m1c xtijo5x x1o0tod x47corl x10l6tqk x13vifvy"}),D]}),r[26]=t,r[27]=N,r[28]=g,r[29]=i,r[30]=x,r[31]=u,r[32]=e,r[33]=C,r[34]=D,r[35]=f,r[36]=X):X=r[36];t=X;N=B===!0;g=c("useOpenPhotoAttachmentKeyCommand")(N);i=k(c("CometFeedStoryFeedLocationContext"));r[37]!==i?(x=c("getIsBizWebFeedLocation")(i),r[37]=i,r[38]=x):x=r[38];e=x;r[39]!==s||r[40]!==t||r[41]!==q||r[42]!==R||r[43]!==H||r[44]!==u||r[45]!==z||r[46]!==O||r[47]!==e||r[48]!==L||r[49]!==K||r[50]!==M||r[51]!==g||r[52]!==N||r[53]!==E||r[54]!==G||r[55]!==a||r[56]!==(J==null?void 0:J.renderLocation)?(C=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:12,children:N||u===!0?t:j.jsx(c("CometPressable.react"),{display:"block",hideHoverOverlay:!0,linkProps:{passthroughProps:babelHelpers["extends"]({index:H,isUntagged:z,origOverlayShown:K,overlayExists:L,productTagFunnelID:R,shouldShowComments:s==null||q!==!1,storyRenderLocation:J==null?void 0:J.renderLocation,trackingCode:G},M),rel:n||e?void 0:"theater",target:e?"_blank":void 0,url:a},onPress:O,overlayPressedStyle:o.mediaPressed,ref:g,testid:void 0,xstyle:o.imageButton,children:t})}),r[39]=s,r[40]=t,r[41]=q,r[42]=R,r[43]=H,r[44]=u,r[45]=z,r[46]=O,r[47]=e,r[48]=L,r[49]=K,r[50]=M,r[51]=g,r[52]=N,r[53]=E,r[54]=G,r[55]=a,r[56]=J==null?void 0:J.renderLocation,r[57]=C):C=r[57];return C}function p(){return{analytics_component:"product_item",analytics_feed_type:"newsfeed",analytics_module:"shops_you_follow_stories",analytics_page:"home_feed",referral_surface:"unknown",shopping_session_id:""}}g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion"},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryPhotoAttachment_attachment"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2txcUS"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_feed_overlay_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"ProductMatchFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductSellerTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductSellerTagFeedOverlayRenderer",abstractKey:null}],storageKey:'comet_product_tag_feed_overlay_renderer(supported:"2txcUS")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"1Rt3ld"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_dot_hint_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"ProductMatchDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagLayerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagLayerRenderer",abstractKey:null}],storageKey:'comet_product_tag_dot_hint_renderer(supported:"1Rt3ld")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryPhotoAttachmentUtil_ShopPDPURI"}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedStoryPhotoAttachmentStyle.react",["CometFeedStoryFeedLocationContext","CometFeedStoryPhotoAttachment.react","CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer.graphql","CometFeedStoryPhotoAttachmentUtil","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CometRelay","CometSharedPostInGroupContext","react","react-compiler-runtime","unrecoverableViolation","useCometFeedStoryAttachmentMatchDebugger","useStable","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext;function a(a){var e,f,g,i=d("react-compiler-runtime").c(20),m=a.adID;a=a.styleTypeRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer.graphql"),a);var n=a.attachment;c("useCometFeedStoryAttachmentMatchDebugger")(a);a=k(c("CometFeedStoryFeedLocationContext"));var o=k(c("CometSharedPostInGroupContext"));o=o.isSharedPostInGroup;if(n==null)throw c("unrecoverableViolation")("attachment cannot be nullish in CometFeedStoryPhotoAttachmentStyle","comet_feed");e=((e=n.media)==null?void 0:(e=e.creation_story)==null?void 0:(e=e.target_group)==null?void 0:e.id)!=null;a=(a==null?void 0:a.includes("GROUP"))===!0;var p=a?"group_mall":"newsfeed";f=(f=n.media)==null?void 0:f.comet_product_tag_feed_overlay_renderer;var q;i[0]===Symbol["for"]("react.memo_cache_sentinel")?(q={areControlsVisible:!1,isSinglePhoto:!0},i[0]=q):q=i[0];i[1]!==f?(q=j.jsx(d("CometRelay").MatchContainer,{match:f,props:q}),i[1]=f,i[2]=q):q=i[2];f=q;q=(q=n.media)==null?void 0:q.comet_product_tag_dot_hint_renderer;var r;i[3]!==q?(r=j.jsx(d("CometRelay").MatchContainer,{match:q}),i[3]=q,i[4]=r):r=i[4];q=r;r=c("useStable")(l);g=d("CometFeedStoryPhotoAttachmentUtil").useGetDirectToPDPInfo(((g=n.media)==null?void 0:g.__typename)==="Photo"?n.media:null,p,e||a||o?"group_product_tagged_post":"product_tagged_post");e=g.shopPDPURI;g=((a=n.media)==null?void 0:(o=a.comet_product_tag_feed_overlay_renderer)==null?void 0:o.__typename)==="ProductMatchFeedOverlayRenderer";a=((a=n.media)==null?void 0:(o=a.comet_product_tag_feed_overlay_renderer)==null?void 0:o.__typename)==="CometProductTagFeedOverlayRenderer";o=((o=n.media)==null?void 0:(o=o.comet_product_tag_feed_overlay_renderer)==null?void 0:o.__typename)==="CometProductSellerTagFeedOverlayRenderer";var s;i[5]!==m||i[6]!==n||i[7]!==g||i[8]!==a||i[9]!==o||i[10]!==q||i[11]!==f||i[12]!==e?(s=j.jsx(c("CometFeedStoryPhotoAttachment.react"),{adID:m,attachment:n,hasProductMatch:g,hasProductTags:a,isUntagged:o,productTagLayer:q,productTagOverlay:f,testid:void 0,urlOverride:e}),i[5]=m,i[6]=n,i[7]=g,i[8]=a,i[9]=o,i[10]=q,i[11]=f,i[12]=e,i[13]=s):s=i[13];i[14]!==p||i[15]!==s?(m=j.jsx(c("CometProductTagReferralCodeContext").Provider,{value:p,children:s}),i[14]=p,i[15]=s,i[16]=m):m=i[16];i[17]!==r||i[18]!==m?(n=j.jsx(c("CometProductTagFunnelIDContext").Provider,{value:r,children:m}),i[17]=r,i[18]=m,i[19]=n):n=i[19];return n}function l(){return c("uuidv4")()}g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={kind:"Variable",name:"scale",variableName:"scale"},c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[e];return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isMedia"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"color_choice_algorithm",value:"MOST_PROMINENT_COLOR"},{kind:"Literal",name:"is_computed_if_missing",value:!1}],kind:"ScalarField",name:"accent_color",storageKey:'accent_color(color_choice_algorithm:"MOST_PROMINENT_COLOR",is_computed_if_missing:false)'},{alias:"viewer_image",args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},b,{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[c,d],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:[a,e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:f,storageKey:null}],type:"ProductItem",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShopProduct",kind:"LinkedField",name:"shop_product",plural:!1,selections:f,storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},{alias:"photo_image",args:[b,{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},c,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},e,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment",storageKey:null},e],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"2txcUS"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_feed_overlay_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"ProductMatchFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductSellerTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductSellerTagFeedOverlayRenderer",abstractKey:null}],storageKey:'comet_product_tag_feed_overlay_renderer(supported:"2txcUS")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"1Rt3ld"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_dot_hint_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"ProductMatchDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagLayerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagLayerRenderer",abstractKey:null}],storageKey:'comet_product_tag_dot_hint_renderer(supported:"1Rt3ld")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:f,storageKey:null},e],storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:f,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:f,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:f,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:f,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"StoryAttachmentStyleRendererUnion",abstractKey:"__isStoryAttachmentStyleRendererUnion"}]}}();e.exports=a}),null);